(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a124947"],{7084:function(e,t,r){},7803:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules}},[r("h3",{staticClass:"title"},[e._v("引流猫用户注册")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"qq"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入QQ号"},model:{value:e.registerForm.qq,callback:function(t){e.$set(e.registerForm,"qq",t)},expression:"registerForm.qq"}},[r("svg-icon",{staticClass:"svg-icon",attrs:{slot:"prefix","icon-class":"qq"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"phone"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入手机号"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}},[r("svg-icon",{staticClass:"svg-icon",attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"smsCode"}},[r("div",{staticStyle:{display:"inline-block",width:"50%","margin-right":"10%"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入短信验证码"},model:{value:e.registerForm.smsCode,callback:function(t){e.$set(e.registerForm,"smsCode",t)},expression:"registerForm.smsCode"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1)],1),r("el-button",{attrs:{type:"primary",plain:"",disabled:e.resetBtndisab},on:{click:e.openSms}},[e._v(" "+e._s(e.isSending?"已发送("+e.countdown+"s)":"发送验证码"))])],1),r("el-dialog",{attrs:{title:"发送验证码",visible:e.dialogVisible,width:"350px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.captchaEnabled?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"请输入检验码"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"register-code"},[r("img",{staticClass:"register-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("确 定")])],1)],1),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("span",[e._v("注 册 中...")]):r("span",[e._v("注 册")])]),r("div",{staticStyle:{float:"right"}},[r("router-link",{staticClass:"link-type",attrs:{to:"/login"}},[e._v("使用已有账户登录")])],1)],1)],1),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"el-register-footer"},[r("span",[e._v("Copyright © 2019-2024 引流猫 By cola.")])])}],o=(r("d9e2"),r("14d9"),r("ac1f"),r("00b4"),r("7ded")),n={name:"Register",data:function(){var e=this,t=function(t,r,s){e.registerForm.password!==r?s(new Error("两次输入的密码不一致")):s()};return{isSending:!1,countdown:0,countdownInterval:null,resetBtndisab:!1,dialogVisible:!1,codeUrl:"",registerForm:{username:"",phone:"",qq:"",password:"",confirmPassword:"",code:"",uuid:""},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],qq:[{required:!0,trigger:"blur",message:"请输入您的QQ号"},{min:5,max:11,message:"QQ长度必须介于 5 和 11 之间",trigger:"blur"}],phone:[{required:!0,trigger:"blur",message:"请输入您的手机号"},{min:11,max:11,message:"手机号必须为11位",trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}],smsCode:[{required:!0,trigger:"change",message:"请输入短信验证码"}]},loading:!1,captchaEnabled:!0}},created:function(){},methods:{handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},send:function(){var e=this;Object(o["g"])(this.registerForm).then((function(t){e.$modal.msgSuccess("发送成功"),e.dialogVisible=!1,e.isSending=!0,e.countdown=60,e.startCountdown(),e.resetBtndisab=!0})).catch((function(e){})),this.getCode()},openSms:function(){this.isPhoneNumber(this.registerForm.phone)?(this.getCode(),this.dialogVisible=!0):this.$modal.msgError("请输入有效的手机号")},isPhoneNumber:function(e){var t=/^\d{11}$/;return t.test(e)},getCode:function(){var e=this;Object(o["c"])().then((function(t){e.codeUrl="data:image/gif;base64,"+t.img,e.registerForm.uuid=t.uuid}))},startCountdown:function(){var e=this;this.countdownInterval&&clearInterval(this.countdownInterval),this.countdownInterval=setInterval((function(){e.countdown>0?e.countdown--:(clearInterval(e.countdownInterval),e.isSending=!1,e.countdown=0,e.resetBtndisab=!1)}),1e3)},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(o["f"])(e.registerForm).then((function(t){var r=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+r+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login")})).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaEnabled&&e.getCode()})))}))}}},a=n,l=(r("d6bc"),r("2877")),c=Object(l["a"])(a,s,i,!1,null,null,null);t["default"]=c.exports},d6bc:function(e,t,r){"use strict";r("7084")}}]);