(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f372d328","chunk-2d0b1c3f","chunk-2d0d6a96"],{"20f1":function(t,e,a){t.exports=a.p+"static/img/202406180047452852484.7c0944a5.png"},5352:function(t,e,a){"use strict";a("e260");var n=a("23e7"),r=a("da84"),i=a("c65b"),s=a("e330"),o=a("83ab"),c=a("f354"),l=a("cb2d"),u=a("6964"),d=a("d44e"),h=a("dcc3"),f=a("69f3"),p=a("19aa"),v=a("1626"),y=a("1a2d"),g=a("0366"),m=a("f5df"),w=a("825a"),x=a("861d"),b=a("577e"),C=a("7c73"),_=a("5c6c"),S=a("9a1f"),I=a("35a1"),k=a("d6d6"),R=a("b622"),U=a("addb"),P=R("iterator"),L="URLSearchParams",O=L+"Iterator",A=f.set,T=f.getterFor(L),E=f.getterFor(O),j=Object.getOwnPropertyDescriptor,q=function(t){if(!o)return r[t];var e=j(r,t);return e&&e.value},Q=q("fetch"),$=q("Request"),z=q("Headers"),B=$&&$.prototype,D=z&&z.prototype,F=r.RegExp,J=r.TypeError,G=r.decodeURIComponent,H=r.encodeURIComponent,M=s("".charAt),V=s([].join),Z=s([].push),N=s("".replace),K=s([].shift),W=s([].splice),X=s("".split),Y=s("".slice),tt=/\+/g,et=Array(4),at=function(t){return et[t-1]||(et[t-1]=F("((?:%[\\da-f]{2}){"+t+"})","gi"))},nt=function(t){try{return G(t)}catch(e){return t}},rt=function(t){var e=N(t,tt," "),a=4;try{return G(e)}catch(n){while(a)e=N(e,at(a--),nt);return e}},it=/[!'()~]|%20/g,st={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ot=function(t){return st[t]},ct=function(t){return N(H(t),it,ot)},lt=h((function(t,e){A(this,{type:O,iterator:S(T(t).entries),kind:e})}),"Iterator",(function(){var t=E(this),e=t.kind,a=t.iterator.next(),n=a.value;return a.done||(a.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),a}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(x(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===M(t,0)?Y(t,1):t:b(t)))};ut.prototype={type:L,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,a,n,r,s,o,c,l=I(t);if(l){e=S(t,l),a=e.next;while(!(n=i(a,e)).done){if(r=S(w(n.value)),s=r.next,(o=i(s,r)).done||(c=i(s,r)).done||!i(s,r).done)throw J("Expected sequence with length 2");Z(this.entries,{key:b(o.value),value:b(c.value)})}}else for(var u in t)y(t,u)&&Z(this.entries,{key:u,value:b(t[u])})},parseQuery:function(t){if(t){var e,a,n=X(t,"&"),r=0;while(r<n.length)e=n[r++],e.length&&(a=X(e,"="),Z(this.entries,{key:rt(K(a)),value:rt(V(a,"="))}))}},serialize:function(){var t,e=this.entries,a=[],n=0;while(n<e.length)t=e[n++],Z(a,ct(t.key)+"="+ct(t.value));return V(a,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var dt=function(){p(this,ht);var t=arguments.length>0?arguments[0]:void 0;A(this,new ut(t))},ht=dt.prototype;if(u(ht,{append:function(t,e){k(arguments.length,2);var a=T(this);Z(a.entries,{key:b(t),value:b(e)}),a.updateURL()},delete:function(t){k(arguments.length,1);var e=T(this),a=e.entries,n=b(t),r=0;while(r<a.length)a[r].key===n?W(a,r,1):r++;e.updateURL()},get:function(t){k(arguments.length,1);for(var e=T(this).entries,a=b(t),n=0;n<e.length;n++)if(e[n].key===a)return e[n].value;return null},getAll:function(t){k(arguments.length,1);for(var e=T(this).entries,a=b(t),n=[],r=0;r<e.length;r++)e[r].key===a&&Z(n,e[r].value);return n},has:function(t){k(arguments.length,1);var e=T(this).entries,a=b(t),n=0;while(n<e.length)if(e[n++].key===a)return!0;return!1},set:function(t,e){k(arguments.length,1);for(var a,n=T(this),r=n.entries,i=!1,s=b(t),o=b(e),c=0;c<r.length;c++)a=r[c],a.key===s&&(i?W(r,c--,1):(i=!0,a.value=o));i||Z(r,{key:s,value:o}),n.updateURL()},sort:function(){var t=T(this);U(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,a=T(this).entries,n=g(t,arguments.length>1?arguments[1]:void 0),r=0;while(r<a.length)e=a[r++],n(e.value,e.key,this)},keys:function(){return new lt(this,"keys")},values:function(){return new lt(this,"values")},entries:function(){return new lt(this,"entries")}},{enumerable:!0}),l(ht,P,ht.entries,{name:"entries"}),l(ht,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),d(dt,L),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:dt}),!c&&v(z)){var ft=s(D.has),pt=s(D.set),vt=function(t){if(x(t)){var e,a=t.body;if(m(a)===L)return e=t.headers?new z(t.headers):new z,ft(e,"content-type")||pt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(t,{body:_(0,b(a)),headers:_(0,e)})}return t};if(v(Q)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return Q(t,arguments.length>1?vt(arguments[1]):{})}}),v($)){var yt=function(t){return p(this,B),new $(t,arguments.length>1?vt(arguments[1]):{})};B.constructor=yt,yt.prototype=B,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:yt})}}t.exports={URLSearchParams:dt,getState:T}},"5eed2":function(t,e,a){"use strict";a("997f")},6964:function(t,e,a){var n=a("cb2d");t.exports=function(t,e,a){for(var r in e)n(t,r,e[r],a);return t}},7403:function(t,e,a){t.exports=a.p+"static/img/wxpay.2a3cae79.png"},9861:function(t,e,a){a("5352")},"997f":function(t,e,a){},addb:function(t,e,a){var n=a("4dae"),r=Math.floor,i=function(t,e){var a=t.length,c=r(a/2);return a<8?s(t,e):o(t,i(n(t,0,c),e),i(n(t,c),e),e)},s=function(t,e){var a,n,r=t.length,i=1;while(i<r){n=i,a=t[i];while(n&&e(t[n-1],a)>0)t[n]=t[--n];n!==i++&&(t[n]=a)}return t},o=function(t,e,a,n){var r=e.length,i=a.length,s=0,o=0;while(s<r||o<i)t[s+o]=s<r&&o<i?n(e[s],a[o])<=0?e[s++]:a[o++]:s<r?e[s++]:a[o++];return t};t.exports=i},eb47:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"aui-flexView",staticStyle:{"max-width":"720px","padding-top":"10px"}},[t._m(0),n("section",{staticClass:"aui-scrollView"},[n("div",{staticClass:"aui-pay-box"},[n("div",{staticClass:"aui-pay-fill"},[n("div",{staticClass:"aui-pay-flex"},[t._m(1),n("div",{staticClass:"aui-pay-info"},[n("p",{staticClass:"aui-flex"},[t._v(" 订单编号 "),n("em",{staticClass:"aui-flex-box"},[t._v(t._s(t.orderId))])]),n("p",{staticClass:"aui-flex"},[t._v(" 订单标题 "),n("em",{staticClass:"aui-flex-box"},[t._v(t._s(t.orderTitle))])]),n("p",{staticClass:"aui-flex"},[t._v(" 订单金额 "),n("em",{staticClass:"aui-flex-box",staticStyle:{color:"#666666","font-weight":"bold"}},[t._v("¥ "+t._s(t.orderAmount))])]),n("p",{staticClass:"aui-flex"},[t._v(" 实付金额 "),n("em",{staticClass:"aui-flex-box",staticStyle:{color:"#5cb85c","font-weight":"bold"}},[t._v("¥ "+t._s(t.actAmount))])]),n("p",{staticClass:"aui-flex"},[t._v(" 创建时间 "),n("em",{staticClass:"aui-flex-box"},[t._v(t._s(t.createTime))])]),n("p",{staticClass:"aui-flex"},[t._v(" 过期时间 "),n("em",{staticClass:"aui-flex-box"},[t._v(t._s(t.expireTime))])]),n("center",{staticStyle:{color:"#6c5ce7"}},[t._v(" 请 付 款 "),n("b",{staticStyle:{color:"red","font-size":"23px"}},[t._v(t._s(t.actAmount))]),t._v(" 元 "),n("br"),n("small",[t._v("请勿多付或少付，否则会导致不到账")])])],1),n("div",{staticStyle:{"text-align":"center","border-top":"1px #f1f4fb solid","padding-top":"15px","margin-top":"5px"}},[t.isQRCodeCovered?n("div",{staticClass:"overlay"},[n("p",{staticStyle:{color:"white","text-align":"center","padding-top":"50%"}},[t._v(" 订单已过期，请重新生成订单 ")])]):n("div",{staticStyle:{margin:"0 auto",width:"250px"},attrs:{id:"qrcode"}},[n("img",{attrs:{src:a("20f1"),width:"100%"}})])]),n("div",{staticClass:"time-item",staticStyle:{"padding-top":"10px",color:"red","text-align":"center"}},[n("strong",[t._v("剩余付款时间：")]),n("strong",{attrs:{id:"minute_show"}},[n("s"),t._v(t._s(t.minutes)+":")]),n("strong",{attrs:{id:"second_show"}},[n("s"),t._v(t._s(t.seconds))]),n("br"),n("small",{staticStyle:{color:"#666666"}},[t._v("请在有效期内付款，过期请勿付款")])])])]),n("div",{staticClass:"copyright"},[t._v("Copyright © ZZSHOP - 即时到账")])]),t.showOverlay?n("div",{staticClass:"overlay"},[n("p",[t._v("支付成功！")]),n("p",[t._v(t._s(t.countdown)+"秒后将返回首页...")])]):t._e()])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"aui-navBar aui-navBar-fixed"},[n("div",{staticClass:"aui-center"},[n("span",{staticClass:"aui-center-title"},[n("img",{attrs:{src:a("7403"),alt:"微信支付"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aui-flex b-line"},[a("div",{staticClass:"aui-flex-box"},[a("h2",{staticClass:"aui-pay-titleS"},[t._v("支付信息")])])])}],i=(a("14d9"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("ddb0"),a("9861"),a("b775"));function s(t){return Object(i["a"])({url:"/pay/wechat/pay/getOrder",method:"post",data:t})}function o(t){return Object(i["a"])({url:"/pay/wechat/pay/status",method:"post",headers:{repeatSubmit:!1},data:t})}var c={data:function(){return{payStatusPollCounter:0,payStatusPollId:null,timer:null,countdown:0,showOverlay:!1,totalSeconds:0,intervalId:null,orderId:"",orderTitle:"引流猫月卡",orderAmount:"",actAmount:"",createTime:"",expireTime:"",qrCodeUrl:"/files/202406180047452852484.png",isQRCodeCovered:!1}},created:function(){this.getOrder()},mounted:function(){this.startCountdown(2,30)},beforeDestroy:function(){this.timer&&clearInterval(this.timer),this.intervalId&&clearInterval(this.intervalId)},computed:{minutes:function(){return Math.floor(this.totalSeconds/60)},seconds:function(){return this.totalSeconds%60}},methods:{getPayStatus:function(){var t=this,e={orderId:this.orderId};o(e).then((function(e){!0===e.data&&(t.showOverlay=!0,t.countdown=3,t.startCountdown1())})).catch((function(t){console.error("获取支付状态失败:",t)}))},getOrder:function(){var t=this,e=new URLSearchParams(window.location.search),a=e.get("id"),n=parseInt(a,10);console.log(n);var r={id:n};console.log(r),s(r).then((function(e){t.orderId=e.data.orderId,t.orderAmount=e.data.orderAmount,t.actAmount=e.data.actAmount,t.createTime=e.data.createTime,t.expireTime=e.data.expireTime}))},startCountdown1:function(){var t=this;this.timer=setInterval((function(){t.countdown>0?t.countdown-=1:(clearInterval(t.timer),t.$router.push("/index"),t.showOverlay=!1)}),1e3)},startCountdown:function(t,e){var a=this;this.totalSeconds=60*t+e,this.payStatusPollCounter=0,this.intervalId=setInterval((function(){a.totalSeconds<=0?(clearInterval(a.intervalId),a.isQRCodeCovered=!0,console.log("倒计时结束"),a.payStatusPollId&&(clearInterval(a.payStatusPollId),a.payStatusPollId=null)):(a.totalSeconds--,a.payStatusPollCounter++,a.payStatusPollCounter%3===0&&a.getPayStatus())}),1e3)}}},l=c,u=(a("5eed2"),a("2877")),d=Object(u["a"])(l,n,r,!1,null,"3d980b58",null);e["default"]=d.exports},f354:function(t,e,a){var n=a("d039"),r=a("b622"),i=a("c430"),s=r("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,a="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),a+=n+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))}}]);